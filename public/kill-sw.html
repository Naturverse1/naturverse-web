<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Reset Naturverse Cache</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; padding: 2rem; }
  </style>
</head>
<body>
  <h1>Clearing offline cacheâ€¦</h1>
  <p>This page will unregister service workers, delete caches, and return you to the home page.</p>
  <script>
  (async () => {
    try {
      if ('serviceWorker' in navigator) {
        const regs = await navigator.serviceWorker.getRegistrations();
        await Promise.all(regs.map(r => r.unregister().catch(() => {})));
      }
      if (self.caches) {
        const keys = await caches.keys();
        await Promise.all(keys.map(k => caches.delete(k).catch(() => {})));
      }
      // avoid reload loops
      sessionStorage.setItem('nv-sw-killed', String(Date.now()));
    } catch (e) { /* no-op */ }
    location.replace('/');
  })();
  </script>
</body>
</html>
